################################################################################
## Releasing the hounds in your local environment.
##
## Setup:
## $ gem install rubocop
##
## Run:
## $ rubocop ./path/to/file ./or/path/to/directory -c ./.hound.yml
##
################################################################################
AllCops:
  Include:
    - Rakefile
  Exclude:
    - db/**/*
    - config/**/*
    - 'spec/fixtures/**/*'
    - 'vendor/**/*'
    - 'scripts/**/*'
    - 'spec/support/sipity/command_repository_interface.rb'
    - 'spec/support/sipity/query_repository_interface.rb'
  RunRailsCops: true

MethodLength:
  Max: 10
  Description: 'Avoid methods longer than 10 lines of code.'
  CountComments: false
  Enabled: true
  Exclude:
    - app/conversions/**/*.rb
    - 'app/controllers/sipity/controllers/dois_controller.rb'
    - 'app/forms/sipity/forms/create_work_form.rb'
    - 'app/repositories/sipity/queries/permission_queries.rb'
    - 'app/repositories/sipity/queries/comment_queries.rb'
    - 'app/repositories/sipity/queries/enrichment_queries.rb'
    - 'app/repositories/sipity/queries/processing_queries.rb'
    - 'app/state_machines/sipity/state_machines/state_diagram.rb'
    - 'spec/support/site_prism_support.rb'

LineLength:
  Description: 'Limit lines to 140 characters.'
  Max: 140
  Enabled: true

ClassLength:
  Max: 100
  Description: 'Avoid classes longer than 100 lines of code.'
  CountComments: false
  Enabled: true

AlignParameters:
  Description: >-
                 Align the parameters of a method call if they span more
                 than one line.
  Enabled: true

BlockComments:
  Description: 'Do not use block comments.'
  Enabled: true
  Exclude:
    - spec/spec_helper.rb

CyclomaticComplexity:
  Description: 'Avoid complex methods.'
  Enabled: true
  Exclude:
     - app/conversions/**/*.rb
     - app/state_machines/sipity/state_machines/state_diagram.rb

Metrics/PerceivedComplexity:
  Enabled: true
  Exclude:
     - app/conversions/**/*.rb
     - app/state_machines/sipity/state_machines/state_diagram.rb
     - app/repositories/sipity/queries/processing_queries.rb
     - spec/support/site_prism_support.rb

Metrics/AbcSize:
  Enabled: true
  Max: 16
  Exclude:
     - app/conversions/**/*.rb
     - app/state_machines/**/*.rb
     - app/repositories/sipity/queries/*.rb
     - app/controllers/application_controller.rb
     - app/forms/sipity/forms/work_enrichments/attach_form.rb
Delegate:
  Description: 'Prefer delegate method for delegations.'
  Enabled: false

Documentation:
  Description: 'Document classes and non-namespace modules.'
  Enabled: true
  Exclude:
  - spec/**/*
  - lib/**/version.rb

EmptyLinesAroundBlockBody:
  Enabled: false

DotPosition:
  Description: 'Checks the position of the dot in multi-line method calls.'
  EnforcedStyle: trailing
  Enabled: true

Style/Encoding:
  Description: 'Use UTF-8 as the source file encoding.'
  Enabled: false

FileName:
  Description: 'Use snake_case for source file names.'
  Enabled: true

ParameterLists:
  Description: 'Avoid parameter lists longer than three or four parameters.'
  Enabled: true
  Max: 4

PercentLiteralDelimiters:
  Description: 'Use `%`-literal delimiters consistently'
  PreferredDelimiters:
    '%':  ()
    '%i': ()
    '%q': ()
    '%Q': ()
    '%r': '{}'
    '%s': ()
    '%w': ()
    '%W': ()
    '%x': ()
  Enabled: true

RedundantReturn:
  Description: "Don't use return where it's not required."
  Enabled: false

StringLiterals:
  Description: 'Checks if uses of quotes match the configured preference.'
  Enabled: false

WordArray:
  Description: 'Use %w or %W for arrays of words.'
  Enabled: false

AssignmentInCondition:
  Description: "Don't use assignment in conditions."
  Enabled: true
  Exclude:
    - bin/*

HandleExceptions:
  Description: "Don't suppress exception."
  Enabled: true
  Exclude:
    - bin/*
